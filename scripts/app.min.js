function weekDayName(){var n=new Date;return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][n.getDay()]}function wireEventHandlers(){$(".details-modal-close").click(function(){$(".details-modal-container").hide()})}function TacoTruckLocation(n){var t=this;t.id=ko.observable(n.id);t.name=ko.observable(n.name);t.url=ko.observable(n.url);t.address=ko.observable(n.address);t.city=ko.observable(n.city);t.state=ko.observable(n.state);t.postal_code=ko.observable(n.postal_code);t.latitude=ko.observable(n.latitude);t.longitude=ko.observable(n.longitude);t.monday_open=ko.observable(n.monday_open);t.monday_close=ko.observable(n.monday_close);t.tuesday_open=ko.observable(n.tuesday_open);t.tuesday_close=ko.observable(n.tuesday_close);t.wednesday_open=ko.observable(n.wednesday_open);t.wednesday_close=ko.observable(n.wednesday_close);t.thursday_open=ko.observable(n.thursday_open);t.thursday_close=ko.observable(n.thursday_close);t.friday_open=ko.observable(n.friday_open);t.friday_close=ko.observable(n.friday_close);t.saturday_open=ko.observable(n.saturday_open);t.saturday_close=ko.observable(n.saturday_close);t.sunday_open=ko.observable(n.sunday_open);t.sunday_close=ko.observable(n.sunday_close);t.cityStateZip=ko.computed(function(){return t.city()+", "+t.state()+" "+t.postal_code()});t.todayClose=ko.computed(function(){switch(weekDayName()){case"monday":return t.monday_close();case"tuesday":return t.tuesday_close();case"wednesday":return t.wednesday_close();case"thursday":return t.thursday_close();case"friday":return t.friday_close();case"saturday":return t.saturday_close();case"sunday":return t.sunday_close();default:return"Not Available"}});t.googleMapHtml=ko.computed(function(){var n="<iframe class='truck-map' frameborder='0' src='https://www.google.com/maps/embed/v1/place?key=AIzaSyDUj-ZpeGB8iNrmb946i82jC8S8V6IZYM8&q=_latitude_,_longitude_' allowfullscreen><\/iframe>";return n=n.replace("_latitude_",t.latitude()),n.replace("_longitude_",t.longitude())});t.googleDirectionUrl=ko.computed(function(){var n="https://www.google.com/maps/dir/?api=1&destination=_latitude_,_longitude_";return n=n.replace("_latitude_",t.latitude()),n.replace("_longitude_",t.longitude())})}function TruckLocationsViewModel(){var n=this;n.tacoTruckLocations=ko.observableArray([]);$.getJSON("https://my.api.mockaroo.com/locations.json?key=a45f1200",function(t){var i=$.map(t,function(n){return new TacoTruckLocation(n)});n.tacoTruckLocations(i)});n.showMap=function(n,t){$(".map-placeholder").remove();$mapContainer=$(".map-container");$mapContainer.html(n.googleMapHtml());$mapContainer[0].scrollIntoView({behavior:"smooth",block:"start"});$(".return-to-card>a").attr("href","#"+n.id());var i=$(t.target).closest("div[class*='loc-card']");$("div.card.loc-card").removeClass("active");i.addClass("active")};n.openDirectionInNewTab=function(n){var t=window.open(n.googleDirectionUrl(),"_blank");t.focus()};n.showMoreInfo=function(n){var t=$(".details-modal-container");t.find(".truck-id").html(n.id());t.find(".street-address").html(n.address());t.find(".city-state-zip").html(n.cityStateZip());t.find(".direction").attr("href",n.googleDirectionUrl());t.find(".btn-full-details").attr("href",n.url());t.find(".monday .from").html(n.monday_open());t.find(".tuesday .from").html(n.tuesday_open());t.find(".wednesday .from").html(n.wednesday_open());t.find(".thursday .from").html(n.thursday_open());t.find(".friday .from").html(n.friday_open());t.find(".saturday .from").html(n.saturday_open());t.find(".sunday .from").html(n.sunday_open());t.find(".monday .to").html(n.monday_close());t.find(".tuesday .to").html(n.tuesday_close());t.find(".wednesday .to").html(n.wednesday_close());t.find(".thursday .to").html(n.thursday_close());t.find(".friday .to").html(n.friday_close());t.find(".saturday .to").html(n.saturday_close());t.find(".sunday .to").html(n.sunday_close());t.find(".weekly-schedules tr").css("font-weight","normal");t.find("."+weekDayName()).css("font-weight","bold");t.show()}}$(document).ready(function(){ko.applyBindings(new TruckLocationsViewModel);wireEventHandlers()});